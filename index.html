<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="description" content=" Scaling Unified Multimodal LLMs with Mixture of Experts">
  <meta name="keywords" content="multi-modal model with moe">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Uni-MoE 2.0</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="stylesheet" href="./static/css/own.css">

  <link rel="stylesheet" href="./static/css/index-gradio.css">
  <link rel="stylesheet" href="./static/css/live_theme.css">
  <link rel="icon" href="./static/images/logo.png">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/js/all.min.js"></script>
  <script type="module" src="https://gradio.s3-us-west-2.amazonaws.com/3.27.0/gradio.js"></script>
</head>

<style>
  .fa-myuser:before{content:url("./static/images/user.png")}
  .fa-myrobot:before{content:url("./static/images/model_logo.png")}
  .fa-mylogo:before{content:url("./static/images/model_logo.png")}
  .fas{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-block;font-style:normal;font-variant:normal;text-rendering:auto;line-height:1}
  .fa-2x{font-size:2em}
  .expandable-card .card-text-container {
    max-height: 200px;
    overflow-y: hidden;
    position: relative;
  }

  .expandable-card.expanded .card-text-container {
    max-height: none;
  }

  .expand-btn {
    position: relative;
    display: none;
    background-color: rgba(255, 255, 255, 0.8);
    /* margin-top: -20px; */
    /* justify-content: center; */
    color: #510c75;
    border-color: transparent;
  }

  .expand-btn:hover {
    background-color: rgba(200, 200, 200, 0.8);
    text-decoration: none;
    border-color: transparent;
    color: #510c75;
  }

  .expand-btn:focus {
    outline: none;
    text-decoration: none;
  }

  .expandable-card:not(.expanded) .card-text-container:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 90px;
    background: linear-gradient(rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 1));
  }

  .expandable-card:not(.expanded) .expand-btn {
    margin-top: -40px;
  }

  .card-body {
    padding-bottom: 5px;
  }

  .vertical-flex-layout {
    justify-content: center;
    align-items: center;
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 5px;
  }

  .figure-img {
    max-width: 100%;
    height: auto;
  }

  .adjustable-font-size {
    font-size: calc(0.5rem + 2vw);
  }

  .chat-history {
    flex-grow: 1;
    overflow-y: auto;
    /* overflow-x: hidden; */
    padding: 5px;
    border-bottom: 1px solid #ccc;
    margin-bottom: 10px;
  }

  #gradio pre {
    background-color: transparent;
  }
</style>

<body>


  <section class="hero">
    <div class="hero-body">
      <div class="hero-body-background-div"></div>
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title" style="color:black;" ><img src="./static/images/model_logo.png" width="110" height="110" style="margin-right: 10px;">Uni-MoE 2.0:</h1>
            <h1 class="title is-2 publication-title" style="width:1200px">Advancing Language-Centric Omnimodal Model with Superior MoE, Training, and Data</h1>
            <!-- <div class="is-size-5 publication-authors">
              <span class="author-block">
                <a href="https://yunxinli.github.io" style="color:black;font-weight:normal;"><b>Yunxin Li</b></a>,
              </span>
              <span class="author-block">
                <a href="url" style="color:black;font-weight:normal;"><b>Shenyuan Jiang</b></a>,
              </span>
              <span class="author-block">
                <a href="https://faculty.hitsz.edu.cn/hubaotian" style="color:black;font-weight:normal;"><b>Baotian Hu</b></a>,
              </span>
              <span class="author-block">
                <a href="http://www.longyuewang.com/" style="color:black;font-weight:normal;"><b>Longyue Wang</b></a>,
              </span><br>
              <span class="author-block">
                <a href="url" style="color:black;font-weight:normal;"><b>Wanqi Zhong</b></a>,
              </span>
              <span class="author-block">
                <a href="https://whluo.github.io/" style="color:black;font-weight:normal;"><b>Wenhan Luo</b></a>,
              </span>
              <span class="author-block">
                <a href="https://forestlinma.com/" style="color:black;font-weight:normal;"><b>Lin Ma</b></a>,
              </span>
              <span class="author-block">
                <a href="https://faculty.hitsz.edu.cn/MinZhang" style="color:black;font-weight:normal;"><b>Min Zhang</b></a>
              </span>
            </div> -->
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                <b>HITSZ-TMG: Text and Multimodal Generative Intelligence Group</b>
              </span>
            </div>
            <br>
            <!-- <div class="is-size-5 publication-authors">
              <span class="author-block"><b style="color:black; font-weight:normal">Harbin Institute of Technology, Shenzhen </b></span>
            </div> -->

          
          <!-- <div class="column has-text-centered">
            <h3 class="title is-3 publication-title">Improved Baselines with Visual Instruction Fine-tuning</h3>
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                <a href="https://hliu.cc/" style="color:#f68946;font-weight:normal;">Haotian Liu<sup>*</sup></a>,
              </span>
              <span class="author-block">
                <a href="https://chunyuan.li/" style="color:#008AD7;font-weight:normal;">Chunyuan Li<sup>*</sup></a>,
              </span>
              <span class="author-block">
                <a href="https://yuheng-li.github.io" style="color:#008AD7;font-weight:normal;">Yuheng Li</a>,
              </span>
              <span class="author-block">
                <a href="https://pages.cs.wisc.edu/~yongjaelee/" style="color:#f68946;font-weight:normal;">Yong Jae
                  Lee</a>
              </span>
            </div>

            <div class="is-size-5 publication-authors">
              <span class="author-block"><b style="color:#f68946; font-weight:normal">&#x25B6 </b> University of
                Wisconsin-Madison</b></span>
              <span class="author-block"><b style="color:#008AD7; font-weight:normal">&#x25B6 </b> Microsoft Research</span>
            </div> -->

            <div class="column has-text-centered">
              <div class="publication-links">
                <span class="link-block">
                  <a href="https://arxiv.org/abs/2405.11273" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="ai ai-arxiv"></i>
                    </span>
                    <span>arXiv</span>
                  </a>
                </span>
                <span class="link-block">
                  <a href="https://github.com/HITsz-TMG/UMOE-Scaling-Unified-Multimodal-LLMs" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>
                <span class="link-block">
                  <a href="url" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="far fa-images"></i>
                    </span>
                    <span>Demo</span>
                  </a>
                </span>
                <span class="link-block">
                  <a href="https://github.com/HITsz-TMG/UMOE-Scaling-Unified-Multimodal-LLMs?tab=readme-ov-file#%EF%B8%8F-dataset" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fas fa-database"></i>
                    </span>
                    <span>Dataset</span>
                  </a>
                </span>
                <span class="link-block">
                  <a href="https://github.com/HITsz-TMG/UMOE-Scaling-Unified-Multimodal-LLMs?tab=readme-ov-file#%EF%B8%8F-uni-moe-weights" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fas fa-share-square"></i>
                    </span>
                    <span>Model</span>
                  </a>
                </span>


                

                <!-- <span class="link-block">
                <a href="#"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="fab fa-youtube"></i>
                  </span>
                  <span>Video</span>
                  </a>
              </span> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section" style="background-color:#efeff081">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-2 has-text-centered">&#x1F680 From Uni-MoE to Uni-MoE 2.0</h2>
          <div class="content has-text-justified">
            <p>
              This page details <strong>Uni-MoE 2.0</strong>, a significant evolution of our original <a href="https://uni-moe.github.io/" target="_blank" rel="noopener noreferrer">Uni-MoE 1.0</a> model. 
              The previous version explored the use of Mixture of Experts (MoE) for unified multimodal language modeling, demonstrating its effectiveness across diverse modalities such as text, audio, speech, images, and video.
            </p>
            <p>
              <strong>Uni-MoE 2.0</strong> builds on this foundation, rebuilt from scratch on the more powerful Qwen2.5-7B core, and introduces key architectural and training paradigms. 
              Major improvements include a unified speech encoder, context-aware MoE-TTS, deep cross-modal alignment via 3D RoPE, and advanced MoE fusion strategies with a refined training recipe.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <section class="section" style="background-color:#efeff081">
        <div class="container is-max-desktop">
            <!-- Demo Presentation. -->
            <div class="columns is-centered has-text-centered">
              <div class="column is-11">
                    <h2 class="title is-2">Demo Presentation</h2>
                    <div class="publication-video">
                        <iframe src="https://www.youtube.com/embed/RsumcWsYNyc"
                                frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
            <!--/ Demo Presentation. -->
        </div>
    </section>
  
  <section class="section">
    <div class="container is-max-desktop">
      <!-- Abstract. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-2">Abstract</h2>
          <div class="content has-text-justified">
          <p>
            We present Uni-MoE 2.0 from the Lychee family. As a fully open-source omnimodal model, it substantially advances the capabilities of Lychee's Uni-MoE series in language-centric multimodal understanding, reasoning, and generating. Based on the Qwen2.5-7B dense architecture, we train Uni-MoE 2.0 from scratch through three core contributions: dynamic-capacity Mixture-of-Experts (MoE) design, a progressive training strategy enhanced with an iterative reinforcement strategy, and a carefully curated multimodal data matching technique. It is capable of cross- and tri-modality understanding, as well as generating images, text, and speech.
          </p>
          <p>
            <i>Architecturally</i>, our new MoE framework balances computational efficiency and capability for 10 cross-modal inputs using shared, routed, and null experts, while our Omni-Modality 3D RoPE ensures spatio-temporal cross-modality alignment in the self-attention layer.
          </p>
          <p>
            <i>For training</i>, following cross-modal pretraining, we use a progressive SFT strategy that activates modality-specific experts and is enhanced by balanced data composition and an iterative GSPO-DPO method to stabilize RL training and improve reasoning.
          </p>
          <p>
            <i>Data-wise</i>, the base model, trained on approximately 50B tokens of open-source multimodal data, is equipped with special speech and image generation tokens, allowing it to learn these generative tasks by conditioning its outputs on linguistic cues.
          </p>
          <p>
            Extensive evaluation across approximately 90 benchmarks demonstrates that while Uni-MoE 2.0 lags behind certain powerful language models-based omnimodal models trained with larger datasets in specific metrics, it surpasses the Qwen2.5-Omni (trained with 1.2T tokens) model--which shares the same language backbone--in more than 40 key aspects. In comparison to state-of-the-art omnimodal models such as Qwen2.5-Omni, Ming-Lite-Omni, Baichuan-Omni, MiniCPM-o 2.6, and other task-specific models, our model achieves superior results in video understanding and reasoning, omnimodality comprehension, long speech understanding and generation, and AudioVisual tasks.
            Furthermore, our model exhibits competitive performance in most image generation and editing tasks, outperforming generative models, e.g., OmniGen and Ming-Lite-Omni, in image editing tasks, Pixel-Wizard and Qwen-Image in low-level image processing tasks.
          </p>
          <!-- <p>
            We open-source all training and inference codes (GitHub), five model checkpoints (Hugging Face), and data lists (Appendix) to support reproducibility and further research.
          </p> -->
          </div>
        </div>
      </div>
        
    </div>
  </section>

  <section class="section" style="background-color:#efeff081">
    <div class="container is-max-desktop">

        <div class="columns is-centered has-text-centered">
            <h2 class="title is-2">Architecture</h2>
            <br>
        </div>

        <!-- Architecture -->
        <div class="columns is-centered">
            <div class="column is-11">
                <div class="content has-text-justified">
                    <img class="columns is-centered has-text-centered" src="./static/images/model.png" alt="Teaser" width="95%"
                         style="margin:0 auto">
                    <br>
                    <!-- <figcaption>
                        <p style="text-align: center;">
                            <font color="061E61">
                                <b>Figure 1:Architecture of Uni-MoE 2.0</b> The Uni-MoE 2.0 architecture processes multimodal data through a unified tokenization strategy. Audio is tokenized in 30-second clips, augmented with generation tokens for voice control in the context-aware MoE-TTS module, while images are encoded using a sliding window technique. Image Generation Tokens bridge the model to a task-aware diffusion transformer for end-to-end generation tasks. The model's comprehension is powered by Omni-Modality 3D RoPE, which aligns inputs across time, and a sophisticated MoE layer. This MoE layer dynamically routes information using diverse experts, with stability ensured by null experts (for token skipping) and modality-specific routed experts (A, V, T indicate audio, visual, and textual expert pretrained on corresponding data). In contrast, compact shared experts (only 1/8 size of routed experts) enable efficient cross-modal knowledge transfer.
                            </font>
                        </p>
                    </figcaption> -->
                    <figcaption>
                      <!-- 1. Centered Title -->
                      <p style="text-align: center; color: #061E61; margin-bottom: 0.75rem; font-size: 1.1em;">
                        <b>Figure 1: Architecture of Uni-MoE 2.0</b>
                      </p>

                      <!-- 2. Short Intro Paragraph -->
                      <!-- <p style="text-align: justify; color: #061E61; margin-bottom: 1rem;"> -->
                        <!-- The Uni-MoE 2.0 architecture processes multimodal data through a unified tokenization strategy. -->
                        <!-- The Uni-MoE 2.0 architecture processes multimodal data through a unified tokenization strategy. Its key components include: -->
                      <!-- </p> -->

                      <!-- 3. Bulleted List for Readability -->
                      <!-- Bulma 'content' class styles lists nicely, so we just add color and alignment -->
                      <!-- <ul style="color: #061E61; text-align: left; margin-left: 2rem; margin-right: 1rem;">
                        <li style="margin-bottom: 0.75rem;">
                          <b>Unified Tokenization:</b> Audio is tokenized in 30-second clips, while images are encoded using a sliding window technique.
                        </li>
                        <li style="margin-bottom: 0.75rem;">
                          <b>Generative Pathways:</b> Audio generation tokens enable voice control via a context-aware MoE-TTS module. Image Generation Tokens bridge the model to a task-aware diffusion transformer for end-to-end generation.
                        </li>
                        <li style="margin-bottom: 0.75rem;">
                          <b>Core Comprehension:</b> Powered by <b>Omni-Modality 3D RoPE</b> to align inputs across time, and a sophisticated <b>MoE layer</b>.
                        </li>
                        <li style="margin-bottom: 0.75rem;">
                          <b>Dynamic MoE Layer:</b> This layer dynamically routes information using diverse experts. Modality-specific routed experts (A, V, T) handle specialized data, null experts ensure stability by allowing token skipping, and compact shared experts (1/8 size) enable efficient cross-modal knowledge transfer.
                        </li>
                      </ul> -->
                    </figcaption>
                    <br>

                    <h3>Model Architecture</h3>
                    <p>
                      The Uni-MoE 2.0 architecture processes multimodal data through a unified tokenization strategy.
                      <strong>It consists of the following architecture components:</strong>
                    </p>
                    <ul>
                      <li>
                        <b>Unified Modality Encoding & Generation:</b>
                        We design a unified speech encoder that maps diverse audio inputs, including environmental sound,
                        speech, and music, into a shared representation space. For output, a context-aware MoE-based TTS
                        module supports dynamic speech synthesis (especially for long speech) and interaction. On the visual
                        side, we employ pre-trained visual encoders to process images and videos, and build task-aware diffusion
                        transformers for instruction-guided image generation and editing.
                      </li>

                      <li>
                        <b>Deep Cross-Modal Alignment:</b>
                        To enable deep and efficient fusion of any modality, we introduce an Omni-Modality 3D RoPE mechanism
                        in the self-attention layers. It encodes the temporal-spatial dimensions of speech, image, text,
                        and video tokens, ensuring seamless alignment and interaction across all input types.
                      </li>

                      <li>
                        <b>MoE-Driven Cross-Modal Fusion:</b>
                        We strategically extend the standard MLP layers to MoE layers. This new MoE architecture incorporates
                        three expert types: empty experts for inference-time computation skipping, modality-specific routed
                        experts for storing modality knowledge and processing cross-modal information, and small-size shared
                        experts to facilitate universal information exchange. This design enables efficient computation,
                        specialized modality handling, and effective and stable multimodal fusion.
                      </li>
                    </ul>

                    <h3>Training Recipe</h3>
                    <p>
                      To gain a powerful and comprehensive omnimodal large model,
                      <strong>the training recipe with the data matching approach includes:</strong>
                    </p>
                    <ul>
                      <li>
                        <b>Language-Centric Cross-Modal Pretraining:</b>
                        We pretrain the LLM on a corpus of paired modality-to-language data (e.g., image-text, audio-text, video-text).
                        This phase teaches the model to encode and interpret diverse modal inputs by projecting them into a shared
                        semantic space aligned with language.
                      </li>

                      <li>
                        <b>Progressive SFT with Modality Experts:</b>
                        We employ a progressive SFT strategy using modality-specific experts (grouped into audio, vision, and text
                        categories). To enable conditional generation, we introduce special tokens that condition output generation
                        on linguistic cues. This allows the model to learn complex tasks like text-conditioned speech synthesis and
                        image generation directly within the SFT stage.
                      </li>

                      <li>
                        <b>Data-Balanced Annealing:</b>
                        After large-scale SFT, we introduce an annealing phase where we carefully balance the data mixture across
                        all modalities and tasks. This phase uses a reduced learning rate to gently refine the model's performance,
                        ensuring no single modality or task dominates the final model behavior, leading to consistently superior
                        results on omnimodal benchmarks.
                      </li>

                      <li>
                        <b>Iterative Reinforcement Learning with Self-Play Preference Optimization:</b>
                        To activate long-form reasoning while ensuring training stability for our MoE model, we introduce an
                        iterative GSPO-DPO method. This approach mainly uses the LLM itself as a judge to evaluate its own rollouts,
                        automatically constructing high-quality preference pairs for online-learning without causing training collapse.
                      </li>
                    </ul>

                    <br>
                </div>
                <br/>
            </div>
        </div>
    </div>
    
</section>


<section class="section">
  <div class="container is-max-desktop">

      <div class="columns is-centered has-text-centered">
          <h2 class="title is-2">Demonstrations</h2>
      </div>

      <div class="columns is-centered">
          <div class="column is-full-width">


              <!--            Example-1-->
              <h3 class="title is-4" style="margin-top: 3em">• Example-1: Long Speech ASR</h3>
              <div class="content has-text-justified" style="width: 70pm">

                  <div class="wrapper svelte-nab2ao"
                      style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                      <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                          <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                      alt="avatar-user">
                              </div>
                              <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <!-- 下面的span靠右对齐 -->
                                  <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <!-- <p>Transcribe this speech to text.​​</p> -->
                                          <p style="margin-top: 1em;"><strong>Prompt: </strong><br>Transcribe this speech to text.​<br></p>
                                          <p><audio playsinline="" controls="">
                                                  <source type="audio/flac"
                                                      src="./static/audio/cases/cases/long-asr/6930-76324.flac">
                                              </audio>
                                          </p>
                                  </span>
                              </div>
                          </div>
                          <div class="message-row bot-row svelte-1uvwjgr">
                            <div class="avatar-container svelte-1uvwjgr">
                                <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                    alt="avatar-bot">
                            </div>
                            <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                style="border-style: solid;">
                                <!-- <span class="md svelte-9tftx4 chatbot">
                                    <p style="color: black; font-size: 1.0em;">
                                      The image features a large leopard walking across a grassy area, close to a body of water. The leopard is positioned in the center of the scene, with its reflection visible in the water. The water appears to be a lake or a pond, providing a serene backdrop for the leopard's stroll.
                                    </p>
                                </span> -->
                                <span class="md svelte-9tftx4 chatbot">
                                  <p>Goliath makes another discovery</p>
                                  <p>There were certainly no nearer the solution of their problem the poor little things cried cynthia think of them having been turned to the wall all these years now what is the sense of it two innocent babies like that</p>
                                  <p>But joyce had not been listening all at once she put down her candle on the table and faced her companion the twin brother did something she didn't like and she turned his picture to the wall hers happened to be on the same frame too but she evidently didn't care about it</p>
                                  <p>Now what have you to say cynthia sprough I thought we were stumped again when I first saw that picture but it's been of some use after all do you suppose the miniature was a copy of the same thing what in the world is it queried joyce</p>
                                  <p>They worry me terribly and besides i'd like to see what this lovely furniture looks like without such quantities of dust all over it good scheme sin</p>
                                  <p>We'll come in here this afternoon with old clothes on and have a regular house cleaning it can't hurt anything i'm sure for we won't disturb things at all</p>
                                  <p>This thought however did not enter the heads of the enthusiastic pair smuggling the house cleaning paraphernalia into the cellar window unobserved that afternoon proved no easy task for cynthia had added a whisk broom and dust pan to the outfit</p>
                                  <p>The lure proved too much for him and he came sporting after it as friskily as a young kitten much to cynthia's delight when she caught sight of him oh let him come along she urged I do love to see him about that old house he makes it sort of cosier</p>
                                  <p>Now let's dust the furniture and pictures yet little as it was it had already made a vast difference in the aspect of the room surface dust at least had been removed and the fine old furniture gave a hint of its real elegance and polish</p>
                                  <p>Then she suddenly remarked and my pocket money is getting low again and you haven't any left as usual they say illumination by candlelight is the prettiest in the world why it's goliath as usual they both cried peering in isn't he the greatest for getting into odd corners</p>
                                  <p>Forgetting all their weariness they seized their candles and scurried through the house finding on occasional paper tucked away in some odd corner well i'm convinced that the boarded up house mystery happened not earlier than april sixteenth eighteen sixty one and probably not much later</p>
                                </span>
                            </div>
                        </div>

                      </div>
                  </div>
              </div>
              <!--          End  Example-1-->

              <!--            Example-2-->
              <h3 class="title is-4" style="margin-top: 3em">• Example-2: Long Speech TTS</h3>
              <div class="content has-text-justified" style="width: 70pm">

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <!-- 下面的span靠右对齐 -->
                                      <!-- <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <p>Where is this sound take place?​​</p>
                                          <p><audio playsinline="" controls="">
                                                  <source type="audio/flac"
                                                      src="./static/audio/cases/cases/long-asr/6930-75918.flac">
                                              </audio>
                                          </p>
                                      </span> -->
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <p style="margin-top: 1em;"><strong>Prompt: </strong><br>You should read user's query in Jenny's voice.<br></p>
                                          <p>We present Uni MOE 2 from the Lychee family. As a fully open-source omni modal model, it substantially advances the capabilities of Lychee's Uni MOE series in language-centric multi-modal understanding, reasoning, and generating. Based on the qianwen 2.5 dense architecture, we train Uni MOE 2 from scratch through three core contributions: dynamic capacity Mixture of Experts design, a progressive training strategy enhanced with reinforcement strategy, and a carefully curated multimodal data matching technique.</p>
                                          <p>It is capable of cross and tri modality understanding, as well as generating images, text, and speech. Architecturally, our new MOE framework balances computational efficiency and capability for 10 cross-modal inputs using shared, routed, and null experts, while our Omni-Modality 3D RoPE ensures spatio temporal cross modality alignment in the self-attention layer.</p>
                                          <p>For training, following cross-modal pretraining, we use a progressive SFT strategy that activates modality specific experts and is enhanced by balanced data composition and an iterative GSPO DPO method to stabilize RL training. Data-wise, the base model, trained on approximately 50B tokens of open-source multimodal data, is equipped with special speech and image generation tokens, allowing it to learn these generative tasks by conditioning its outputs on linguistic cues.</p>
                                    
                                      </span>
                                  </div>
                              </div>


                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                        <p><audio playsinline="" controls="">
                                          <source type="audio/wav"
                                            src="./static/audio/cases/cases/longtts/tts_long.wav">
                                          </audio>
                                        </p>
                                      </span>
                                  </div>
                              </div>

                          </div>
                      </div>
                  </div>

                  <div class="wrapper svelte-nab2ao"
                      style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                      <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                          <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                      alt="avatar-user">
                              </div>
                              <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <!-- 下面的span靠右对齐 -->
                                  <!-- <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                      <p>Name all the instruments you can hear.</p>
                                      <p><audio playsinline="" controls="">
                                              <source type="audio/mp3" src="./static/images/2.mp3">
                                          </audio>
                                      </p>
                                  </span> -->
                                  <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                      <p style="margin-top: 1em;"><strong>Prompt: </strong><br>请根据用户给定的内容用Xiaoxiao音色进行语音生成。<br></p>
                                        <p>冰淇淋！你这个甜蜜的天使，你在夏天里如影随形。你的奶油那么香甜，像是清晨的阳光洒在冰凉的麦田上。我看着你，心里充满了好奇和欣喜。</p>
                                        <p>然而有一天，我被送到了一个陌生的地方。那个地方像一个大冰箱，里面充满了冰冷的东西。那些东西都是我从未见过的，包括讲座、睡觉和形容词“大”。那个地方看起来冷酷无情，就像冰淇淋一样，让人感到害怕。</p>
                                        <p>我在那里待了一段时间，每天都在学习各种奇怪的知识。我甚至开始睡觉，变成了一个睡眠机器。我用我的理论知识来对抗这个世界，试图让它变得更好。但每当我试图醒来时，都会发现我已经忘记了刚刚发生的一切。</p>
                                        <p>终于有一天，我决定反抗这个疯狂的世界。我拿出了我的“夜班”，开始了我的攻击。我用我的名词“讲座”来解释这个世界，我用我的动词“睡觉”来支持我的论点，我用我的形容词“大”来强调我的力量。然后，我启动了我的主题——冰淇淋的力量。冰淇淋融化了我所有的抵抗，它让我失去了理智，忘记了自己原本的目标。</p>
                                        <p>我继续睡着，直到被一场暴雨唤醒。那天晚上，我和冰淇淋一起吃饭。我们坐在外面的大厅里，享受着冰淇淋的甜美。我看着冰淇淋，心中充满了感激。我知道，这就是我要的生活，充满挑战，充满甜蜜。冰淇淋，你是我在这个世界里的救星。我会记住你带给我的一切，我会继续前进，直到找到属于自己的天堂。</p>
                                  </span>
                              </div>
                          </div>

                          <div class="message-row bot-row svelte-1uvwjgr">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                      alt="avatar-bot">
                              </div>
                              <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <span class="md svelte-9tftx4 chatbot">
                                      <!-- <p>Goliath makes another discovery</p>
                                          <p>Accordion, drums, guitars, trumpets, violins, and cellos.</p> -->
                                      <p><audio playsinline="" controls="">
                                            <source type="audio/wav"
                                                src="./static/audio/cases/cases/longtts/test_zh_long.wav">
                                          </audio>
                                        </p>
                                  </span>
                              </div>
                          </div>

                      </div>
                  </div>
              </div>
              <!--          End  Example-2-->

              <!--            Example-3-->
              <h3 class="title is-4" style="margin-top: 3em">• Example-3: Audio + Image Understanding</h3>

              <div class="content has-text-justified" style="width: 70pm">

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">
                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <!-- 下面的span靠右对齐 -->
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <!-- <p style="color: gray; font-size: 1.0em;">&lt;audio&gt;<br>&lt;image&gt;<br>You should listen to the user's question and respond in Jenny's voice.<br></p> -->
                                          <p><audio playsinline="" controls="">
                                                  <source type="audio/mp3"
                                                      src="./static/audio/cases/cases/case_ia2a/2LCLpdpD3yy2dgH5tQbcFe.mp3">
                                              </audio>
                                          </p>
                                      </span>
                                      <img style="display: inline-block;width: 250px;max-height: 400px;float: right;margin-top:0.7em"
                                          src="./static/audio/cases/cases/case_ia2a/COCO_val2014_000000257169.jpg">
                                      <p style="color: gray; font-size: 1.0em; margin-top: 10px;">
                                        <strong>Prompt: </strong><br>You should listen to the user's question and respond in Jenny's voice.<br>
                                      </p>
                                  </div>
                              </div>


                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                          <!-- <p style="color: black; font-size: 1.0em;">The top of the clock tower is decorated with a cross, which represents Christianity.
                                          </p> -->
                                          <p><audio playsinline="" controls="">
                                              <source type="audio/wav"
                                                  src="./static/audio/cases/cases/case_ia2a/va2a.wav">
                                          </audio>
                                          </p>
                                      </span>

                                  </div>
                              </div>

                          </div>
                      </div>
                  </div>
              </div>
              
              <!-- <div class="content has-text-justified" style="width: 70pm">

                <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                    <div class="wrapper svelte-nab2ao"
                        style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                        <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">
                          <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                            <div class="avatar-container svelte-1uvwjgr">
                                <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                    alt="avatar-user">
                            </div>
                            <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                style="border-style: solid;">
                                <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                    <p><audio playsinline="" controls="">
                                            <source type="audio/mp3"
                                                src="./static/images/5.mp3">
                                        </audio>
                                    </p>
                                    <p style="color: gray; font-size: 1.0em;">(Transcription: What is powering the bike?)</p>
                                </span>
                                <img style="display: inline-block;width: 250px;max-height: 400px;float: right;margin-top:0.7em"
                                    src="./static/images/5.jpg">
                            </div>
                        </div>


                        <div class="message-row bot-row svelte-1uvwjgr">
                            <div class="avatar-container svelte-1uvwjgr">
                                <img class="avatar-image svelte-1uvwjgr" src="./static/images/logo_small.png"
                                    alt="avatar-bot">
                            </div>
                            <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                style="border-style: solid;">
                                <span class="md svelte-9tftx4 chatbot">
                                    <p style="color: black; font-size: 1.0em;">The bikes are being powered by the dogs, who are pulling the bicycles through the grass.
                                    </p>
                                </span>

                            </div>
                        </div>


                        </div>
                    </div>
                </div>
            </div> -->
              <!--          End  Example-3-->

              <!--            Example-4-->
              <!-- <h3 class="title is-4" style="margin-top: 0em">• Example-4: Long Speech Understanding</h3>

              <div class="content has-text-justified" style="width: 70pm">

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">
                              
                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                           
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <p><audio playsinline="" controls="">
                                                  <source type="audio/mp3"
                                                      src="./static/images/6.mp3">
                                              </audio>
                                          </p>
                                          <p style="color: black; font-size: 1.0em;">
                                            What is the topic of the article?
                                          </p>
                                      </span>
                                  </div>
                              </div>


                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/logo_small.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                          <p style="color: black; font-size: 1.0em;">
                                            The importance of learning English.
                                          </p>
                                      </span>
                                  </div>
                              </div>


                          </div>
                      </div>
                  </div>
              </div> -->
              <h3 class="title is-4" style="margin-top: 0em">• Example-4: Audio + Video Understanding</h3>

              <div class="content has-text-justified" style="width: 70pm">

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">
                              
                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <p><audio playsinline="" controls="">
                                                  <source type="audio/mp3"
                                                      src="/static/audio/cases/cases/va2a/v_ZLJ2BmBkLJg_1.mp3">
                                              </audio>
                                          </p>
                                          <p><video src="./static/audio/cases/cases/va2a/v_ZLJ2BmBkLJg.mp4" style="display: inline-block;width: 500px;max-height: 400px;float: right;margin-top:0.7em" playsinline="" controls=""></video> 
                                          </p>

                                          <p style="color: gray; font-size: 1.0em; margin-top: 10px;">
                                            <strong>Prompt: </strong><br>You should listen to the user's question and respond in Jenny's voice.<br>
                                          </p>
                                      </span>
                                  </div>
                              </div>


                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                          <p><audio playsinline="" controls="">
                                              <source type="audio/wav"
                                                  src="./static/audio/cases/cases/va2a/va2a2.wav">
                                          </audio>
                                          </p>
                                      </span>
                                  </div>
                              </div>


                          </div>
                      </div>
                  </div>
              </div>

              <!--          End  Example-4-->

              <!--            Example-5-->
              <h3 class="title is-4" style="margin-top: 3em">• Example-5: Image Generation</h3>
              <div class="content has-text-justified" style="width: 70pm">

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <!-- 下面的span靠右对齐 -->
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                        <strong>Prompt: </strong><br><p>A small puppy taking a nap next to a controller.</p>
                                      </span>
                                  </div>
                              </div>


                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                        <!-- <p><img src="./static/images/generate-dog.jpg" style="width: 400px; height: auto; border-radius: 8px;" alt="Generated image of a puppy"></p> -->
                                        <img style="display: inline-block;width: 250px;max-height: 400px;float: left;margin-top:0.7em"
                                          src="./static/images/generate-dog.jpg">
                                      </span>
                                  </div>
                              </div>

                          </div>
                      </div>
                  </div>

                  <div class="wrapper svelte-nab2ao"
                      style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                      <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                          <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                      alt="avatar-user">
                              </div>
                              <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <!-- 下面的span靠右对齐 -->
                                  <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                    <!-- <p>What can you see and hear from the video?​​</p>
                                    <p><video src="./static/images/7.mkv" style="display: inline-block;width: 500px;max-height: 400px;float: right;margin-top:0.7em" playsinline="" controls=""></video> 
                                    </p> -->
                                    <strong>Prompt: </strong><br><p>In the art piece, a realistically depicted young girl with flowing blonde hair gazes intently into the distance, her eyes reflecting the vibrant hues of a spring forest. The verdant greens and soft pastels of the budding trees are captured in subtle brushstrokes, giving the scene a serene and tranquil atmosphere. The minimalist composition focuses on the girl's expression of wonder and the lush woodland background, while the texture of the oil paint adds depth and richness to the canvas.</p>
                                  </span>
                              </div>
                          </div>

                          <div class="message-row bot-row svelte-1uvwjgr">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                      alt="avatar-bot">
                              </div>
                              <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <span class="md svelte-9tftx4 chatbot">
                                      <!-- <p><img src="./static/images/gen-girl.jpg" style="width: 400px; height: auto; border-radius: 8px;" alt="Generated image of a girl in a spring forest"></p> -->
                                        <img style="display: inline-block;width: 250px;max-height: 400px;float: left;margin-top:0.7em"
                                          src="./static/images/gen-girl.jpg">
                                    </span>
                              </div>
                          </div>

                      </div>
                  </div>
              </div>
              <!--          End  Example-5-->

              <!--            Example-6-->
              <h3 class="title is-4" style="margin-top: 3em">• Example-6: Image Editing</h3>
              <div class="content has-text-justified" style="width: 70pm">

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <!-- <p style="text-align: right; margin-top: 0;"><strong>Original Image:</strong></p> -->
                                            <img style="display: inline-block;width: 250px;max-height: 400px;float: right;margin-top:0.7em"
                                              src="./static/images/image-edit-1-bf.jpg">
                                          <p><strong>Prompt: </strong><br>Add a dog standing near the fence in the foreground, close to the road.</p>
                                      </span>
                                  </div>
                              </div>


                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                          <!-- <p><strong>Edited Image:</strong></p> -->
                                          <img style="display: inline-block;width: 250px;max-height: 400px;float: left;margin-top:0.7em"
                                              src="./static/images/image-edit-1-af.jpg.png">
                                      </span>
                                  </div>
                              </div>

                          </div>
                      </div>
                  </div>

                  <div class="wrapper svelte-nab2ao"
                      style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px; margin-top: 1.5em;">

                      <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                          <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                      alt="avatar-user">
                              </div>
                              <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                      <!-- <p style="text-align: right; margin-top: 0;"><strong>Original Image:</strong></p> -->
                                      <p><img style="display: inline-block;width: 250px;max-height: 400px;float: right;margin-top:0.7em"
                                        src="./static/images/image-edit-2-bf.jpg"></p>
                                      <p><strong>Prompt: </strong><br>Change the person's shirt color to blue.</p>
                                  </span>
                              </div>
                          </div>

                          <div class="message-row bot-row svelte-1uvwjgr">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                      alt="avatar-bot">
                              </div>
                              <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <span class="md svelte-9tftx4 chatbot">
                                      <!-- <p><strong>Edited Image:</strong></p> -->
                                      <p>
                                      <img style="display: inline-block;width: 250px;max-height: 400px;float: left;margin-top:0.7em"
                                        src="./static/images/image-edit-2-af.png">
                                      </p>
                                  </span>
                              </div>
                          </div>

                      </div>
                  </div>
              </div>
              <!--          End  Example-6-->

              <!--            Example-7-->
              <h3 class="title is-4" style="margin-top: 3em">• Example-7: Image Restoration</h3>
              <div class="content has-text-justified" style="width: 70pm">

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <!-- <p style="text-align: right; margin-top: 0;"><strong>Original Image:</strong></p> -->
                                            <img style="display: inline-block;width: 250px;max-height: 400px;float: right;margin-top:0.7em"
                                              src="./static/images/lowlevel1-bf.png">
                                          <p><strong>Prompt: </strong><br>Remove the rain from this image.</p>
                                      </span>
                                  </div>
                              </div>


                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                          <!-- <p><strong>Restored Image:</strong></p> -->
                                          <img style="display: inline-block;width: 250px;max-height: 400px;float: left;margin-top:0.7em"
                                              src="./static/images/lowlevel1-af.png">
                                      </span>
                                  </div>
                              </div>

                          </div>
                      </div>
                  </div>

                  <div class="wrapper svelte-nab2ao"
                      style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px; margin-top: 1.5em;">

                      <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                          <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                      alt="avatar-user">
                              </div>
                              <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                      <!-- <p style="text-align: right; margin-top: 0;"><strong>Original Image:</strong></p> -->
                                      <p>
                                      <img style="display: inline-block;width: 250px;max-height: 400px;float: right;margin-top:0.7em"
                                        src="./static/images/lowlevel2-bf.png">
                                      </p>
                                      <p><strong>Prompt: </strong><br>Improve image clarity by removing the haze from the scene.</p>
                                  </span>
                              </div>
                          </div>

                          <div class="message-row bot-row svelte-1uvwjgr">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                      alt="avatar-bot">
                              </div>
                              <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <span class="md svelte-9tftx4 chatbot">
                                      <!-- <p><strong>Restored Image:</strong></p> -->
                                      <p>
                                      <img style="display: inline-block;width: 250px;max-height: 400px;float: left;margin-top:0.7em"
                                        src="./static/images/lowlevel2-af.png">
                                      </p>
                                  </span>
                              </div>
                          </div>

                      </div>
                  </div>
              </div>
              <!--          End  Example-7-->

              <!--            Example-8-->
              <h3 class="title is-4" style="margin-top: 3em">• Example-8: Multigen</h3>
              <div class="content has-text-justified" style="width: 70pm">

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <!-- <p style="text-align: right; margin-top: 0;"><strong>Original Image:</strong></p> -->
                                            <img style="display: inline-block;width: 250px;max-height: 400px;float: right;margin-top:0.7em"
                                              src="./static/images/multigen1-bf.png">
                                          <p><strong>Prompt: </strong><br>Canny edge to image: Bachalpsee Lake and Wetterhorn by Corbis</p>
                                      </span>
                                  </div>
                              </div>


                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                          <!-- <p><strong>Restored Image:</strong></p> -->
                                          <img style="display: inline-block;width: 250px;max-height: 400px;float: left;margin-top:0.7em"
                                              src="./static/images/multigen1-af.png">
                                      </span>
                                  </div>
                              </div>

                          </div>
                      </div>
                  </div>

                  <div class="wrapper svelte-nab2ao"
                      style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px; margin-top: 1.5em;">

                      <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                          <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                      alt="avatar-user">
                              </div>
                              <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                      <!-- <p style="text-align: right; margin-top: 0;"><strong>Original Image:</strong></p> -->
                                      <p>
                                      <img style="display: inline-block;width: 250px;max-height: 400px;float: right;margin-top:0.7em"
                                        src="./static/images/multigen2-bf.png">
                                      </p>
                                      <p><strong>Prompt: </strong><br>Depth map to image: Petra by Night under the Stars by paulmp</p>
                                  </span>
                              </div>
                          </div>

                          <div class="message-row bot-row svelte-1uvwjgr">
                              <div class="avatar-container svelte-1uvwjgr">
                                  <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                      alt="avatar-bot">
                              </div>
                              <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                  style="border-style: solid;">
                                  <span class="md svelte-9tftx4 chatbot">
                                      <!-- <p><strong>Restored Image:</strong></p> -->
                                      <p>
                                      <img style="display: inline-block;width: 250px;max-height: 400px;float: left;margin-top:0.7em"
                                        src="./static/images/multigen2-af.png">
                                      </p>
                                  </span>
                              </div>
                          </div>

                      </div>
                  </div>
              </div>
              <!--          End  Example-8-->
              <!--            Example-9-->
              <h3 class="title is-4" style="margin-top: 3em">• Example-9: Generation with vs. without Chain-of-Thought</h3>
                <div class="content has-text-justified" style="width: 70pm">

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">
                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">
                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <p><strong>Prompt: </strong><br>An apple orchard during the winter</p>
                                      </span>
                                  </div>
                              </div>

                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                          <!-- <p><strong>Generated Image (Without Chain-of-Thought):</strong></p> -->
                                          <p>
                                          <img style="display: block; width: 250px; max-height: 400px; margin-top: 0.7em; border-radius: 8px;"
                                              src="./static/images/thinking-bf.png" alt="Apple orchard generated without thinking">
                                          </p>
                                      </span>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">
                      <div class="wrapper svelte-nab2ao"
                          style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">
                          <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">
                              
                              <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                          alt="avatar-user">
                                  </div>
                                  <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                          <p><strong>Prompt: </strong><br>You should first think step by step about how to construct the image, including background, objects, colors, lighting, and style. <br>The reasoning process and answer are enclosed within &lt;think&gt; &lt;/think&gt; and &lt;answer&gt; &lt;/answer&gt; tags, respectively. Image generation: An apple orchard during the winter.</p>
                                      </span>
                                  </div>
                              </div>
                              
                              <div class="message-row bot-row svelte-1uvwjgr">
                                  <div class="avatar-container svelte-1uvwjgr">
                                      <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                          alt="avatar-bot">
                                  </div>
                                  <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                      style="border-style: solid;">
                                      <span class="md svelte-9tftx4 chatbot">
                                          <!-- <p><strong>Generated Image (With Chain-of-Thought):</strong></p> -->
                                          <pre style="background-color: #f0f0f0; border: 1px solid #ddd; padding: 10px; border-radius: 5px; white-space: pre-wrap; font-size: 0.9em; margin-top: 0.7em;">&lt;think&gt;<br>1. Set the scene to depict an apple orchard during the winter season. <br>2. Populate the orchard with multiple apple trees, ensuring the trees have visible branches but no leaves, indicating winter dormancy. <br>3. Include a variety of apple trees with different shapes and sizes, but all without foliage. <br>4. Position the trees so they fill the frame, showing a dense orchard environment. <br>5. Use a muted, natural color palette dominated by browns and grays to reflect the winter atmosphere. <br>6. Add subtle snow or frost on the tree branches to emphasize the winter setting. <br>7. Ensure the ground beneath the trees is covered with a light dusting of snow or frost, consistent with winter conditions. <br>8. Avoid including any leaves, fruits, or other vegetation on the trees to maintain the winter appearance. <br>9. Keep the overall lighting soft and diffused, typical of an overcast winter day. <br>10. Avoid adding any additional elements such as people, animals, or buildings to maintain focus on the orchard itself.<br>&lt;/think&gt;</pre>
                                          <p>
                                          <img style="display: block; width: 250px; max-height: 400px; margin-top: 0.7em; border-radius: 8px;"
                                              src="./static/images/thinking-af.png" alt="Apple orchard generated with thinking">
                                          </p>
                                      </span>
                                  </div>
                              </div>

                          </div>
                      </div>
                  </div>
                </div>
              <!--          End  Example-9-->
              <!--            Example-10-->
              <h3 class="title is-4" style="margin-top: 3em">• Example-10: Visual Math Reasoning</h3>
                <div class="content has-text-justified" style="width: 70pm">

                    <div class="content has-text-justified" style="width: 70pm;margin-top: 1.5em">

                        <div class="wrapper svelte-nab2ao"
                            style="box-sizing: border-box;border-width: 2px;border-style: solid;border-color: #f66c0f;border-radius: 11px;padding: 25px;padding-top: 30px;padding-bottom: 30px;">

                            <div class="message-wrap svelte-1uvwjgr" style="width: 100%;">

                                <div class="message-row user-row svelte-1uvwjgr" style="width: 100%;">
                                    <div class="avatar-container svelte-1uvwjgr">
                                        <img class="avatar-image svelte-1uvwjgr" src="./static/images/user.png"
                                            alt="avatar-user">
                                    </div>
                                    <div data-testid="user" class="message user svelte-1uvwjgr" dir="ltr"
                                        style="border-style: solid;">
                                        <span class="md svelte-9tftx4 chatbot" style="text-align: left;">
                                            <img style="display: inline-block;width: 400px;max-height: 400px;float: right;margin-top:0.7em; margin-left: 1em;"
                                                src="./static/images/math-thinking.jpg" alt="Visual Math Bar Chart">
                                            <p><strong>Question: </strong><br>Find out the average of the bottom two countries?</p>
                                        </span>
                                    </div>
                                </div>


                                <div class="message-row bot-row svelte-1uvwjgr">
                                    <div class="avatar-container svelte-1uvwjgr">
                                        <img class="avatar-image svelte-1uvwjgr" src="./static/images/model_logo.png"
                                            alt="avatar-bot">
                                    </div>
                                    <div data-testid="bot" class="message bot svelte-1uvwjgr" dir="ltr"
                                        style="border-style: solid;">
                                        <span class="md svelte-9tftx4 chatbot">
                                          <style>
                                          think {
                                            display: block;            
                                            color: #555;
                                            font-style: italic;
                                            border-left: 3px solid #ccc;
                                            padding-left: 0.8em;
                                            margin: 0.5em 0;
                                            white-space: pre-line;         
                                          }
                                          </style>
                                          <blockquote style="border-left: 4px solid #ccc; padding-left: 1em; margin-left: 0.5em; color: #555; font-style: italic;">
                                          <think>Alright, let me figure this out. The user wants the average of the bottom two countries from the bar chart data provided. First, I need to identify which countries are at the bottom. The percentages listed are: Egypt (93.45%, 2002), Tunisia (88.89%, 2009), Madagascar (58.09%, 2012), and Mozambique (44%, 2012). Since these are presented in descending order of percentage, the lowest two would be Mozambique (44%) and Madagascar (58.09%). Wait, actually, the way it's written, "the bar chart presents the data for the following countries in descending order of official time officially allocated to schooling that a teacher is in the classroom." So, Egypt is highest, then Tunisia, then Madagascar, then Mozambique? Wait, no, because Madagascar's percentage is lower than Tunisia's? Wait, let me check again. The order given is Egypt first with 93.45%, Tunisia next at 88.89%, Madagascar at 58.09%, and Mozambique at 44%. But Madagascar's percentage is lower than Tunisia's. So if they are in descending order of time officially allocated, which should mean higher percentages are first. But Madagascar has a lower percentage (58.09%) than Tunisia's (88.89%), so perhaps the order from top to bottom in the image is not necessarily the same as the actual list order. Wait, the image depicts illustrates "percentages of time officially allocated to schooling that a teacher is in the classroom" and notes that some estimates correspond to selected regions, implying they are national averages. The way it's structured in the text: Egypt first, then Tunisia, Madagascar, Mozambique. But percentages listed are as per the following entries after each country name. The last two, Madagascar and Mozambique, both have 2012 data: 58.09% and 44%. These are the lowest ones. Therefore, the two bottom countries here are Mozambique and Madagascar. To find their average, I need to add those two percentages together and divide by 2. So, 44% + 58.09% equals 102.09%. Then divide by 2: 102.09 / 2 = 51.045. Wait, but percentages can sometimes be confusing. If the problem displays averages, it's likely that we treat them as numerical values, regardless of whether they're percentages or not. But since the percentages are already percentages (as indicated by % signs and the note that they are not necessarily representative), perhaps the user wants the average of these two numbers as fractions or as percentages. Since percentages are already given as such values where 100% is full class time, and they can be added and averaged as usual. So 44 + 58.09 = 102.09. Then average is 102.09 /2 = 51.045. Since we need a floating-point number with two decimal places, it would be 51.04. Wait, but that's if we take the percentages as is. Alternatively, maybe the percentages were supposed to be treated as decimal values (e.g., 0.44 and 0.5809?), but that's unclear. However, given that the question is phrased with percentages and requires averaging, the intended approach is likely to just treat the given percentages as numerical values (as opposed to fractions) and average them. Therefore, adding 44% and 58.09% gives 102.09, then dividing by 2 gives 51.045. Rounded to two decimal places, that's 51.04. Hence, the average is 51.04.</think>
                                          </blockquote>
                                          <p style="margin-top: 1em;">In summary, the correct answer is:</p>
                                          <!-- <div style="border: 2px solid #061E61; padding: 10px; display: inline-block; font-weight: bold; margin-top: 0.5em; background-color: #f9f9f9; border-radius: 5px;">
                                              51.04
                                          </div> -->
                                          <div style="border: 1px solid #0f0f0f; padding: 2px 5px; display: inline-block; font-size: 0.85em; border-radius: 3px; background-color: #eef3ff;">
                                            51.04
                                          </div>

                                        </span>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
              <!--          End  Example-10-->
              <br />
          </div>
      </div>
</section>

</section>

  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <pre><code>
   @misc{li2024unimoe,
      title={Uni-MoE 2.0: Advancing Language-Centric Omnimodal Model with Superior MoE, Training, and Data}, 
      author={Yunxin Li and Shenyuan Jiang and Baotian Hu and Longyue Wang and Wanqi Zhong and Wenhan Luo and Lin Ma and Min Zhang},
      year={2024},
      eprint={2405.11273},
      archivePrefix={arXiv},
      primaryClass={cs.AI}
    }
  </code></pre>
    </div>
  </section>
  
  <section class="section" id="Acknowledgement" style="background-color:#efeff081">
    <div class="container is-max-desktop content">
      <h2 class="title">Acknowledgement</h2>
      <p>
        This website is adapted from <a
        href="https://github.com/nerfies/nerfies.github.io">Nerfies</a>, licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
        Commons Attribution-ShareAlike 4.0 International License</a>.  We thank the LLaMA team for giving us access to their models, and open-source projects, including Vicuna, BEATs and whisper.
      </p>

      <p>
<b>Usage and License Notices</b>: The data, code and checkpoint is intended and licensed for research use only. They are also restricted to uses that follow the license agreement of CLIP, BEATs, whisper, LLaMA and Vicuna. The dataset and models trained using the dataset should not be used outside of research purposes.
</p>  
    </div>
  </section>

  <script>
    // Handle message showing
    function createChatRow(sender, text, imageSrc) {
      var article = document.createElement("article");
      article.className = "media"

      var figure = document.createElement("figure");
      figure.className = "media-left";

      var span = document.createElement("span");
      span.className = "icon is-large";

      var icon = document.createElement("i");
      icon.className = "" + (sender === "User" ? " fa-myuser " : sender === "Uni-MoE" ? " fa-mylogo " : sender === "X-Instruct" ? " fa-myrobot" : "");

      var media = document.createElement("div");
      media.className = "media-content";

      var content = document.createElement("div");
      content.className = "content";

      var para = document.createElement("p");

      // wrap text in pre tag to preserve whitespace and line breaks
      var pre_text = document.createElement("pre");
      pre_text.style = "background-color: white; font-size: 18px; font-family: Arial; padding: 0; margin: 0; white-space: pre-wrap; word-wrap: break-word; background: transparent; ";
      var paraText = document.createTextNode(text);
      pre_text.appendChild(paraText);

      var strong = document.createElement("strong");
      strong.innerHTML = sender;
      var br = document.createElement("br");

      para.appendChild(strong);
      para.appendChild(br);
      para.appendChild(pre_text);

      // Add image if imageSrc[0] is provided
      if (imageSrc && imageSrc[0]!='') {
        var img = document.createElement("img");
        img.src = imageSrc[0];
        img.style = "max-width: 100%; max-height: 300px;"; // Adjust the style as needed
        para.appendChild(img);
      }
      // Add audio if imageSrc[1] is provided
      //<audio playsinline="" controls=""> <source type="audio/wav" src="./static/images/test.wav"></audio>
      if (imageSrc && imageSrc[1]!='' && imageSrc.length >1) {
        var br1 = document.createElement("br");
        para.appendChild(br1);
        if (imageSrc && imageSrc[0]!=''){
          var spc = document.createElement("div");
          spc.style = "height: 20px;"
          para.appendChild(spc);
        }
        var aud = document.createElement("audio");
        aud.playsinline = "true";
        aud.controls = "true";
        aud.width="500";
        aud.style = "max-width: 100%; max-height: 300px;"
        var inaud = document.createElement("source");
        inaud.type="audio/wav";
        inaud.src=imageSrc[1];
        aud.appendChild(inaud);
        para.appendChild(aud);
      }
      
      // Add video if imageSrc[2] is provided
      // <video src="./static/images/demo9/r37zpq_g.mp4" style="display: inline-block;" width="500" playsinline="" controls=""></video> 
      if (imageSrc && imageSrc[2]!='' && imageSrc.length >2) {
        var br2 = document.createElement("br");
         para.appendChild(br2);
        var vid = document.createElement("video");
        vid.src = imageSrc[2];
        vid.style = "display: inline-block;";
        vid.width = "500";
        vid.playsinline = "true"; 
        vid.controls = "true";
        para.appendChild(vid);
      }
      console.log(para.outerHTML);

      content.appendChild(para);
      media.appendChild(content);
      span.appendChild(icon);
      figure.appendChild(span);
      if (sender !== "Description") {
        article.appendChild(figure);
      };
      article.appendChild(media);
      return article;
    }

    function addMessageToChatHistory(sender, message, imageSrc) {
      const chatHistory = document.querySelector('.chat-history');
      const chatRow = createChatRow(sender, message, imageSrc);
      chatHistory.appendChild(chatRow);
      chatHistory.scrollTop = chatHistory.scrollHeight;
    }

    function clearChatHistory() {
      const chatHistory = document.querySelector('.chat-history');
      chatHistory.innerHTML = "";
    }

    // 
    const conversations = [
      {
        "description": "leopard",
        "turns": [
          ["User", "", "./static/images/3.jpg"],
          ["User", "Describe the image.​​"],
          ["Uni-MoE", "The image features a large leopard walking across a grassy area, close to a body of water. The leopard is positioned in the center of the scene, with its reflection visible in the water. The water appears to be a lake or a pond, providing a serene backdrop for the leopard's stroll."],
          ["X-Instruct", "A leopard walking near a body of water."],
        ]
      },
      {
        "description": "Concert",
        "turns": [
          ["User", "", "./static/images/blank.png", "./static/images/1.mp3"],
          ["User", "Where is this sound take place?​​"],
          ["Uni-MoE", "Concert."],
          ["X-Instruct", "Arena."],
        ]
      },
      {
        "description": "Instruments",
        "turns": [
          ["User", "", "", "./static/images/2.mp3"],
          ["User", "Name all the instruments you can hear. ​​"],
          ["Uni-MoE", "Accordion, drums, guitars, trumpets, violins, and cellos."],
          ["X-Instruct", "Music."],
        ]
      },
      {
        "description": "tower",
        "turns": [
          ["User", "", "./static/images/4.jpg", "./static/images/4.mp3"],
          ["Uni-MoE", "The top of the clock tower is decorated with a cross, which represents Christianity."],
          ["X-Instruct", "No."],
        ]
      },
      {
        "description": "dog",
        "turns": [
          ["User", "", "./static/images/5.jpg", "./static/images/5.mp3"],
          ["Uni-MoE", "The bikes are being powered by the dogs, who are pulling the bicycles through the grass."],
          ["X-Instruct", "No."],
        ]
      },
      {
        "description": "lspc",
        "turns": [
          ["User", "", "", "./static/images/6.mp3"],
          ["User", "What is the topic of the article?"],
          ["Uni-MoE", "The importance of learning English."],
          ["X-Instruct", "Mechanics."],
        ]
      },
      {
        "description": "musical",
        "turns": [
          ["User", "", "", "", "./static/images/8.mp4"],
          ["User", "Describe the video."],
          ["Uni-MoE", "The video shows a group of people enjoying a day out on a river. They are seen riding down the river on inflatable tubes, taking in the beautiful scenery and having a great time. The group is seen drinking beer and enjoying each other's company while floating down the river. The video captures the essence of a perfect day outdoors with friends, surrounded by nature."],
          ["X-Instruct", "Two people are floating down a river."],
        ]
      },
      {
        "description": "musical",
        "turns": [
          ["User", "", "", "", "./static/images/7.mkv"],
          ["User", "what can you see and hear from the video?"],
          ["Uni-MoE", "The video shows a group of people playing instruments in a large orchestra, with a conductor leading them. The conductor is wearing a suit and tie, and the orchestra is dressed in formal attire. The video also shows the audience watching the performance, and the orchestra is playing a piece of music."],
          ["X-Instruct", "A woman is playing the violin."],
          ["User", "what can you hear in the audio?"],
          ["Uni-MoE", "The audio in the video features the sound of the orchestra playing the music, with the conductor leading the way. The woman playing the flute is also featured in the audio, and her performance is highlighted."],
        ]
      },
    ];

    // The current image index
    let currentIndex = 0;

    // The function to update the displayed chat history
    function update_dialog_demo() {
      // Clear the chat history
      clearChatHistory();

      for (let i = 0; i < conversations[currentIndex].turns.length; i++) {
        if (conversations[currentIndex].turns[i].length == 2) {
          addMessageToChatHistory(conversations[currentIndex].turns[i][0], conversations[currentIndex].turns[i][1]);
        }
        else {
          const mmlist = conversations[currentIndex].turns[i].slice(2,conversations[currentIndex].turns[i].length);
          addMessageToChatHistory(conversations[currentIndex].turns[i][0], conversations[currentIndex].turns[i][1], mmlist);
            
        }
      }

      // scroll to the top of the chat history
      document.querySelector('.chat-history').scrollTop = 0;
    }

    // Initialize the displayed image
    update_dialog_demo();

    // Event listeners for the buttons
    document.getElementById('prev-question').addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + conversations.length) % conversations.length;
      update_dialog_demo();
    });

    document.getElementById('next-question').addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % conversations.length;
      update_dialog_demo();
    });


  </script>

</body>


